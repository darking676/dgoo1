# Spring 팀 프로젝트 <br />
\##2016년 10월
프레임워크 기반의 응용 SW 개발자 수업 이수 과정 중에 팀 프로젝트 진행! <p />
처음 경험하는 Spring기반 팀 프로젝트여서 완성에 포커스를 뒀고 
과분하지만 팀장을 맡아서 진행하였다... <br/>
제작기간은 기획 3일, 코딩 2주, 테스트 및 코드 수정 1주해서 총 24일이 걸렸다.<p />
그 당시 프리젠테이션때 사용한 ppt 일부
<img src="img/ppt.jpg" /> <p />
여담이지만 원래 이 프로젝트는 네이버에서 2015년에 출시한 폴라(pholar)라는 소셜 네트워크 서비스(SNS)에서 영감을 얻었다. <br />
폴라는 사진 및 동영상 공유같은 Instagram과 같은 유사한 서비스를 제공해주는데 이 서비스를 조금 제한해서 상품명 검색으로 상품사진들을 공유하고 리뷰할수있으면
어떨까라는 생각이 들었다. 그것도 쇼핑몰의 일부 기능으로써.. 그렇게되면 실제 착용사진도 쉽게 확인가능하고 서비스가 쇼핑몰 내부에서 돌게되니 고객 유치에도 
용이하겠구나 생각했다. <br /> 
그래서 기반이 되는 쇼핑몰 먼저 구축을 하였다. 
## <strong>메인화면</strong> <br />
### \#header, gnb, visual 부분
<img src='img/img1.png' /><br/>
### \#contents 부분<br/>
<img src='img/img2.png' /><br/>
### \#footer 부분<br/>
<img src='img/img3.png' /><p/>

## <strong>로그인 화면</strong>
### \#로그인
<img src='img/login.png' /><p/>
\#상품 뷰는 가능하지만 모든 서비스는 로그인을 해야되도록 설계했다. 결국 모든 서비스에 로그인이 필요하지만<br/>
Spring의 3대 기능 중 하나인 AOP를 써보고싶어서 접목시켜보기로 했다. <br/>
<img src='img/aop.png' /><p/>
\#이렇게 해당 페이지의 클래스에 접근하려고하면 로그인 session이 존재하면 joinPoint를 Object에 담아서 리턴하고 <br/>
session이 존재하지않으면 로그인페이지를 담은 Object를 리턴한다.

## <strong>상품 화면</strong><br />
### \#상품분류 화면
<img src='img/productlist.png' /><p/>
\#이부분은 크게 썸네일, 필터가 있는데 필터를 누를때마다 쿼리를 날려 해당 분류에 맞는 제품을 보여주고 
  &nbsp;썸네일 부분은 이미지를 누르면 상세보기, 마우스를 over하면 이미지 중간부분에 카트에 add할수있는 버튼기능을 붙였다. <br />
  기능구현에 들어간 기술은 HTML, javascript, jQUERY, Bootstrap이다. <p />
### \#카트 화면
<img src='img/cart.png' /><br/>
\#썸네일에서 상품을 카트에 담는 기능은 세션처리를 했다.<br /> 
카트가 비어있으면 hashmap에 차곡차곡 담고 이미 카트에있던 상품을 중복으로 담을시엔<br />
세션 확인 후 이미 생성된 값이면 수량만 + 해주는 식으로 만들었다 ! <br />
Ajax로 해당 카트 클래스 호출하여 처리하고 해당페이지 reload 하는식으로 했더니 잘 구현됐다. <br />
지우는 것 역시 마찬가지로 jQUERY로 해당 index 추적하여 세션삭제해주고 페이지 reload해주었다. <br />
subtotal 가격변동은 jQUERY로 해당 index에 price,quantity 값 조회하여 +- 따른 변동값 출력하게끔 설계했다. <br />
페이지가 reload되면서 헤더쪽에 카트에 +- 상품의 수만큼 숫자 refresh 등 하다보니 생각보다 신경쓸게 많았다..<p />
### \#상품조회 화면
<img src='img/detail.png' /><br/>
\#상품을 누르면 상품을 조회할 수 있는데 여기서 파싱을 한번 해보기로했다. <br/>
<img src='img/detail2.png' /><br/>
\#이 착용샷들은 DB에 저장된 데이터를 불러온게 아니고 네이버블로그에서 파싱을 해온 것들을 뿌려주고있는 것이다...<br/>
이 기능을 구현하기위해 JAVA 라이브러리인 Jsoup을 사용했다.
<img src='img/jsoup.png' /><br/>
\#위와 같이 타겟 url을 정해주고 Jsoup으로 이미지 데이터만 추출하여 파싱했다. 검색 결과값은 네이버블로그를 겨냥했는데<br/>
네이버는 iframe사용으로 의도적으로 파싱을 막아놓은건지.. 모르겠지만 오기가 생겼던걸까 여러방법을 모색하다보니 <br/>
네이버 모바일은 막혀있지않아서 모바일 url의 힘을 빌리기로했다...이러라고 만든 파싱이 아닌건알지만 써보고싶었다..<p/>
## <strong>위시리스트 & 결제</strong>
### \#위시리스트
<img src='img/payment.png' /><br/>

